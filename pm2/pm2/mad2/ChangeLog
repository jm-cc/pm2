1999-11-24  Olivier Aumage  <oaumage@ens-lyon.fr>

	* include/connection_interfaces/mad_via.h: mise a jour du fichier
	d'apres (mad_sisci.h)

	* src/connection_interfaces/mad_sbp.c (mad_sbp_driver_exit): ajout
	de la fonction, liberation des structures d'allocation rapide

	* src/mad_malloc.c (mad_malloc_clean): suppression de la
	liberation du verrou avant la liberation du la structure `mem'

	* src/connection_interfaces/mad_sbp.c (mad_sbp_register): ajout
	des hooks `exit'
	(mad_sbp_link_init): suppression de l'initialisation du champ
	specific, deja faite dans (mad_open_channel)
	(mad_sbp_link_exit): ajout de la fonction
	(mad_sbp_connection_exit): ajout de la fonction, liberation
	separee des deux champs `specific'
	(mad_sbp_channel_exit): ajout de la fonction, aucun traitement
	(mad_sbp_adapter_exit): ajout de la fonction

	* include/connection_interfaces/mad_sbp.h: ajout des prototypes
	des fonctions `exit'

	* include/connection_interfaces/mad_sisci.h: ajout des prototypes
	des fonctions `exit' pour le support de la terminaison du driver

	* src/connection_interfaces/mad_sisci.c (mad_sisci_register):
	ajout des hooks des fonctions `exit' dans le driver, d'apres le
	driver TCP
	(mad_sisci_link_exit): ajout de la fonction
	(mad_sisci_connection_exit): ajout de la fonction
	(mad_sisci_channel_exit): ajout de la fonction
	(mad_sisci_link_init): suppression de l'allocation du champs
	specific non utilise
	(mad_sisci_adapter_exit): ajout de la fonction
	(mad_sisci_driver_exit): ajout de la fonction

	* src/madeleine.c (mad_foreach_adapter_exit): ajout des logs
	(mad_exit): ajout d'un appel a (mad_driver_exit)

	* Changelog: Creation du fichier changelog

