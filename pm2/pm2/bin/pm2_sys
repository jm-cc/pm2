#!/bin/sh

# PM2: Parallel Multithreaded Machine
# Copyright (C) 2001 "the PM2 team" (pm2-dev@listes.ens-lyon.fr)
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or (at
# your option) any later version.
# 
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.


#
# determine the machine type from scratch
#
if [ -f /bin/uname -o -f /usr/bin/uname ]; then
	if [ -f /bin/uname ]; then
		_os="`/bin/uname -s`"
	else
		_os="`/usr/bin/uname -s`"
	fi

	case "$_os" in
	SunOS)           PM2_SYS=SOLARIS_SYS ;;
	AIX*)            PM2_SYS=AIX_SYS ;;
	IRIX*)           PM2_SYS=IRIX_SYS ;;
	OSF*)            PM2_SYS=OSF_SYS ;;
	Linux)           PM2_SYS=LINUX_SYS ;;
	FreeBSD)         PM2_SYS=FREEBSD_SYS ;;
	CYGWIN_98*)      PM2_SYS=WIN32_SYS ;;
	CYGWIN_NT-5*)    PM2_SYS=WIN2K_SYS ;;
	CYGWIN_NT*)      PM2_SYS=WINNT_SYS ;;
	esac
fi

if [ "$1" != --source-mode ] ; then
    echo $PM2_SYS
    exit 0
fi
