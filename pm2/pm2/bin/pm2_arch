#!/bin/sh

if [ -f /bin/uname -o -f /usr/bin/uname ]; then
	if [ -f /bin/uname ]; then
		_os="`/bin/uname -s`"
		_ht="`/bin/uname -m`"
	else
		_os="`/usr/bin/uname -s`"
		_ht="`/usr/bin/uname -m`"
	fi

	case "$_os,$_ht" in
	SunOS,sun*)        PM2_ARCH=SPARC_ARCH ;;
	*,i86pc)           PM2_ARCH=X86_ARCH ;;
	*,i[3456]86)       PM2_ARCH=X86_ARCH ;;
	BSD/OS,i[3456]86)  PM2_ARCH=X86_ARCH ;;
	FreeBSD,i386)      PM2_ARCH=X86_ARCH ;;
	AIX*,*)            PM2_ARCH=RS6K_ARCH ;;
	*,alpha)           PM2_ARCH=ALPHA_ARCH ;;
	*,mips)            PM2_ARCH=MIPS_ARCH ;;
	*,IP*)             PM2_ARCH=MIPS_ARCH ;;
	*,ppc)  	   PM2_ARCH=PPC_ARCH ;;
        *)                 PM2_ARCH=UNKNOWN_ARCH ;;
	esac
fi

if [ "$1" != --source-mode ] ; then
    echo $PM2_ARCH

    exit 0
fi
