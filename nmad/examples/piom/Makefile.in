srcdir := @srcdir@
VPATH  := $(srcdir)

include @abs_top_builddir@/common_vars.mk

TARGET_BIN = $(patsubst $(srcdir)/%.c, %, $(wildcard $(srcdir)/*.c))
TARGET_LIB =
SUBDIRS =

INSTALL_BIN     = $(TARGET_BIN)
INSTALL_LIB     = $(TARGET_LIB)
INSTALL_INCLUDE = 

INSTALL_PREFIX := @nmad_root@

TARGETS = subdirs $(TARGET_BIN) $(TARGET_LIB)

CFLAGS  = $(shell env PKG_CONFIG_PATH=@nmad_root@/lib/pkgconfig pkg-config --cflags nmad)
LIBS    = $(shell env PKG_CONFIG_PATH=@nmad_root@/lib/pkgconfig pkg-config --libs nmad) -lm -lpthread
LDFLAGS =
ifeq (@NMAD_ENABLE_OPTIMIZE@,yes)
CFLAGS  += $(OPT_LDFLAGS)
LDFLAGS += $(OPT_LDFLAGS)
endif
ifeq (@NMAD_ENABLE_DEBUG,yes)
CFLAGS += $(DEBUG_CFLAGS)
endif
include @abs_top_builddir@/common_rules.mk

$(TARGET_BIN): %: %.pic.o

BENCH += pio_offload piom_1toN

include @nmad_srcdir@/nmad-tests.mk
