
\usepackage{a4wide}%
\usepackage{boxedminipage}%
\usepackage{boxedminipage}%
\usepackage[dvips]{graphics}%
\usepackage[obeyspaces]{url}%
\usepackage{graphicx}%
\usepackage{xspace}%
\usepackage{palatino}%

\usepackage{moreverb}%
\newenvironment{program} {\verbatim} {\endverbatim}
\newenvironment{shell} {\verbatim} {\endverbatim}
\newenvironment{script} {\verbatim} {\endverbatim}
\newenvironment{makefile} {\verbatim} {\endverbatim}

\newcommand{\internalfigurelisting}[4]{
  \begin{figure}
    \begin{center}
      \footnotesize
      \begin{boxedminipage}{0.95\textwidth}
        \message{[Including Progs/#1] }
        \listinginput[5]{1}{Progs/#1}
      \end{boxedminipage}
    \end{center}
    \bgroup
    \def\figurename{Program}
    \caption{[\|#2|] #3.\label{#4}}
    \egroup
  \end{figure}
  }

\newcommand{\figurelisting}[3]{
  \internalfigurelisting{#1-emph}{#1}{#2}{#3}
}

\newcommand{\figurelistingdouble}[3]{
  \bgroup
%%
%% Ship out the first part: file.c-0
%%
  \internalfigurelisting{#1-emph-0}{#1}{#2 
    (Follows up on page~\pageref{#3-1})}{#3}
%%
%% Force the reference number of the second part
  \def\thefigure{\ref{#3} (Cont'd from page~\pageref{#3})}
%%
%% Ship out the second part: file.c-1
  \internalfigurelisting{#1-emph-1}{#1}{#2}{#3-1}
%%
%% Add -1 to discard the increment of the second caption
  \addtocounter{figure}{-1} 
%%
  \egroup
  }

\def\|#1|{{\bf \protect\url{#1}}}

\let\bfseriesaux=\bfseries%
\def\bfseries{\sffamily\bfseriesaux}%

\newenvironment{note} {\description
\item[\fbox{NB}] \sl} {\enddescription}

\setlength{\parskip} {0.5\baselineskip}%

\setlength{\parindent} {0pt}%

\newcommand{\pmm} {PM$^2$\xspace}%
\newcommand{\mad} {\emph{Madeleine}\xspace}%
\newcommand{\madii} {\emph{Madeleine~II}\xspace}%
\newcommand{\mar} {\emph{Marcel}\xspace}%
\newcommand{\Marcel} {\mar}
\newcommand{\Madeleine} {\mad}
\newcommand{\us} {$\mu$s\xspace}

\sloppy

\newenvironment{warning} {\begin{quote} \begin{description} \item
      [\fbox{Warning}] \sl} {\end{description} \end{quote}}

\def\stamp $#1${
{\footnotesize
\begin{center}
\|$#1$|
\end{center}
}}


\catcode`\^^A=\active
\catcode`\^^B=\active

\def\@startverbatimemph{\fontseries{b}\selectfont}
\def\@endverbatimemph{\fontseries{m}\selectfont}

\let^^A=\@startverbatimemph
\let^^B=\@endverbatimemph

